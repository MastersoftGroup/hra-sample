<html>
<head>
	<!-- TODO remove to simplify -->
	<link rel="stylesheet" href="static/bootstrap.min.css" />
	
	<script src="static/jquery.js"></script>
	<script src="static/angular.js"></script>
	<script src="static/hra.js"></script>
	<!-- TODO remove to simplify -->
	<script src="static/ui-bootstrap-tpls.min.js"></script>
</head>
<body ng-app="myApp">
	<div class="form-group" ng-controller='myController'>
		<label class="control-label">Address: </label>
		<input class="form-control" type="text" name="address1" 
					ng-model="test" 
					typeahead="test for test in getAddress($viewValue, 'AU')" 
					typeahead-editable="true" 
					typeahead-on-select='onSelect($item)' 
					typeahead-wait-ms="300" 
					typeahead-loading="addressLoading" 
					ng-minlength="5"  ng-maxlength="255"/>
	</div>

	<script>
		angular.module('myApp', [
			'harmonyHosted.service',
			'ui.bootstrap'
		]).config(function(HRAServiceProvider){
				HRAServiceProvider.setParams({
					authToken : "${username}:${password}",
					serviceURL: "${host}/harmony/rest/",
					minimumInputLength: 1,
					waitMillis: 0
				});
		}).controller('myController', function($scope, HRAService){
				  $scope.getAddress = HRAService.getAddress;
		});
	</script>
</body>
</html>
